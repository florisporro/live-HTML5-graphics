/**
 * Module dependencies.
 */function View(e,t){t=t||{};this.name=e;this.root=t.root;var n=t.engines;this.defaultEngine=t.defaultEngine;var r=this.ext=extname(e);if(!r&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");r||(e+=r=this.ext=("."!=this.defaultEngine[0]?".":"")+this.defaultEngine);this.engine=n[r]||(n[r]=require(r.slice(1)).__express);this.path=this.lookup(e)}var path=require("path"),fs=require("fs"),utils=require("./utils"),dirname=path.dirname,basename=path.basename,extname=path.extname,exists=fs.existsSync||path.existsSync,join=path.join;module.exports=View;View.prototype.lookup=function(e){var t=this.ext;utils.isAbsolute(e)||(e=join(this.root,e));if(exists(e))return e;e=join(dirname(e),basename(e,t),"index"+t);if(exists(e))return e};View.prototype.render=function(e,t){this.engine(this.path,e,t)};